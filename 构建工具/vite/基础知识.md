http://xuedingmiao.com/blog/vite_vs_webpack.html

### webpack 缺点

1. 服务器启动缓慢
2. 基于 nodejs
3. 热更新效率低下；编辑单个文件会重新构建整个包；HMR 更新速度随规模增大下降。

### vite 改进点

1. 将应用模块区分为依赖和源码两类，使用 esbuild 构建；在浏览器请求源码时进行转换并按需提供源码。
2. esbuild（go 编写）预构建依赖，比 node 快
3. hrm 基于原上的 esm；更新速度与应用规模无关；利用

### vite 缺点

1. 生态不及 webpack，加载器、插件不够丰富
2. 生产环境 esbuild 构建对于 css 和代码分割不够友好
3. 没被大规模重度使用，会隐藏一些问题

webpack 会先打包，然后启动开发服务器，请求服务器时直接给予打包结果。
而 vite 是直接启动开发服务器，请求哪个模块再对该模块进行实时编译。
由于现代浏览器本身就支持 ES Module，会自动向依赖的 Module 发出请求。vite 充分利用这一点，将开发环境下的模块文件，就作为浏览器要执行的文件，而不是像 webpack 那样进行打包合并。
由于 vite 在启动的时候不需要打包，也就意味着不需要分析模块的依赖、不需要编译，因此启动速度非常快。当浏览器请求某个模块时，再根据需要对模块内容进行编译。这种按需动态编译的方式，极大的缩减了编译时间，项目越复杂、模块越多，vite 的优势越明显。
在 HMR（热更新）方面，当改动了一个模块后，仅需让浏览器重新请求该模块即可，不像 webpack 那样需要把该模块的相关依赖模块全部编译一次，效率更高。
当需要打包到生产环境时，vite 使用传统的 rollup（也可以自己手动安装 webpack 来）进行打包，因此，vite 的主要优势在开发阶段。另外，由于 vite 利用的是 ES Module，因此在代码中（除了 vite.config.js 里面，这里是 node 的执行环境）不可以使用 CommonJS




### webpack比较


1. 打包方式
webpack 在构建过程中，Webpack 会首先解析所有模块，并生成一个完整的打包文件。打包过程包括了对整个项目的代码、依赖和资源进行优化、处理，整个过程可能较慢。
Vite 在开发模式下并不直接对所有文件进行打包，而是利用 浏览器原生支持的 ES Modules，通过 HTTP 请求动态加载模块。在构建过程中，Vite 会基于 Rollup 打包工具进行生产环境构建，生成优化后的静态资源

2. 构建速度
Webpack 在开发过程中会进行复杂的依赖分析和模块打包，导致构建速度较慢。
Vite 在开发环境下的速度非常快，秒级启动。它利用现代浏览器的 ES Module 支持，无需对整个项目进行打包，而是按需加载和编译代码，极大提高了开发体验。

3. 配置和生态系统
Webpack 配置相对复杂，通常需要较多的 配置文件 来处理不同的需求。对于初学者来说，配置过程可能比较繁琐，尤其是在配置加载器（loaders）、插件（plugins）、优化策略等方面。
Vite 的配置相比 Webpack 更加简单和直观，开箱即用的默认配置适合大多数常见场景。